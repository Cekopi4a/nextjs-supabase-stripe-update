# CLAUDE.md - Fitness App Context

## üìã –û—Å–Ω–æ–≤–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –ø—Ä–æ–µ–∫—Ç–∞

**–ò–º–µ:** Fitness Training App  
**–¶–µ–ª:** SaaS –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∑–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–Ω–∏ —Ç—Ä–µ–Ω—å–æ—Ä–∏ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∏, –ø—Ä–æ–≥—Ä–∞–º–∏ –∏ —Ö—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –ø–ª–∞–Ω–æ–≤–µ. –¢—Ä–µ–Ω—å–æ—Ä–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –¥–æ–±–∞–≤—è –∫–ª–∏–µ–Ω—Ç–∏ —á—Ä–µ–∑ –∏–º–µ–π–ª –∏–ª–∏ –ª–∏–Ω–∫ –∫—ä–º –Ω–µ–≥–æ —Å–∞–º–∏—è. –¢—Ä–µ–Ω—å–æ—Ä–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–∑–¥–∞–≤–∞ –Ω–∞ –≤—Å–µ–∫–∏ –Ω–µ–≥–æ–≤ –∫–ª–∏–µ–Ω—Ç —Ö—Ä–∞–Ω–∏—Ç–µ–ª–µ–Ω –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤—ä—á–µ–Ω –ø–ª–∞–Ω. –í—Å–µ–∫–∏ –∫–ª–∏–µ–Ω—Ç –≤–∏–∂–¥–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª–Ω–æ –∫–∞–∫–≤–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –º—É –µ –∑–∞–¥–∞–ª —Ç—Ä–µ–Ω—å–æ—Ä–∞ –∏ –∫–∞–∫ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ —Ö—Ä–∞–Ω–∏. –¢—Ä–µ–Ω—å–æ—Ä–∞ –º–æ–∂–µ –¥–∞ –¥–æ–±–∞–≤—è —Å–æ–±—Å—Ç–≤–µ–Ω–∏ —Ö—Ä–∞–Ω–∏ –∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∏ —Ç—Ä—è–±–≤–∞ –¥–∞ –º–æ–∂–µ –¥–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏—Ç–µ –ø–æ-–≤—Å—è–∫–æ –≤—Ä–µ–º–µ –¥–∞ –ø—Ä–∞–≤–∏ —Ä–µ–¥–∞–∫—Ü–∏–π. –¢—Ä–µ–Ω—å–æ—Ä–∞ –∏–º–∞ –∏–∑–±–æ—Ä –æ—Ç —Ç—Ä–∏ –ø–ª–∞–Ω–∞ –∑–∞ subscription –∫–æ–∏—Ç–æ —Å–∞ Free,Pro,Beast.
**Target audience:** –ü–µ—Ä—Å–æ–Ω–∞–ª–Ω–∏ —Ç—Ä–µ–Ω—å–æ—Ä–∏ –∏ fitness —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∏

## üèóÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —Å—Ç–∞–∫

### Core Technologies
- **Framework:** Next.js 15.2.4 (App Router)
- **Language:** TypeScript
- **Database:** Supabase (PostgreSQL)
- **Authentication:** Supabase Auth + Update.dev
- **Billing:** Stripe + Update.dev
- **Styling:** Tailwind CSS 4.0.13
- **UI Components:** Radix UI + shadcn/ui

### üé® –¶–≤–µ—Ç–æ–≤–∞ –ø–∞–ª–∏—Ç—Ä–∞
**–ê–∫—Ç–∏–≤–Ω–∞ –ø–∞–ª–∏—Ç—Ä–∞:** –ü—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∞ (–°–∏–Ω—å–æ-–¶–∏–∞–Ω)

–ò–∑–ø–æ–ª–∑–≤–∞–º–µ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∞ —Å–∏–Ω—å–æ-—Ü–∏–∞–Ω –ø–∞–ª–∏—Ç—Ä–∞, –∫–æ—è—Ç–æ –≤–¥—ä—Ö–≤–∞ –¥–æ–≤–µ—Ä–∏–µ, –º–æ–¥–µ—Ä–Ω–∏–∑—ä–º –∏ —á–∏—Å—Ç–æ—Ç–∞. –ü–æ–¥—Ö–æ–¥—è—â–∞ –∑–∞ fitness –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –ø–æ–¥—Ö–æ–¥.

#### Light Mode
- **Primary:** `blue-600` / `hsl(217 91% 60%)` - –æ—Å–Ω–æ–≤–µ–Ω —Å–∏–Ω—å–æ (–±—É—Ç–æ–Ω–∏, –ª–∏–Ω–∫–æ–≤–µ)
- **Secondary:** `cyan-500` / `hsl(189 94% 43%)` - —Ü–∏–∞–Ω –∞–∫—Ü–µ–Ω—Ç
- **Accent:** `sky-400` / `hsl(199 89% 48%)` - —Å–≤–µ—Ç–ª–æ —Å–∏–Ω—å–æ –∑–∞ highlights
- **Background:** `white` / `hsl(0 0% 100%)` - –±—è–ª —Ñ–æ–Ω
- **Foreground:** `slate-900` / `hsl(222 47% 11%)` - —Ç—ä–º–µ–Ω —Ç–µ–∫—Å—Ç
- **Muted:** `slate-50` / `hsl(210 40% 96%)` - –ø—Ä–∏–≥–ª—É—à–µ–Ω–∏ –µ–ª–µ–º–µ–Ω—Ç–∏
- **Border:** `slate-200` / `hsl(214 32% 91%)` - –≥—Ä–∞–Ω–∏—Ü–∏

#### Dark Mode
- **Primary:** `blue-600` / `hsl(217 91% 60%)` - –æ—Å–Ω–æ–≤–µ–Ω —Å–∏–Ω—å–æ (–∑–∞–ø–∞–∑–µ–Ω)
- **Secondary:** `cyan-500` / `hsl(189 94% 43%)` - —Ü–∏–∞–Ω –∞–∫—Ü–µ–Ω—Ç (–∑–∞–ø–∞–∑–µ–Ω)
- **Accent:** `sky-400` / `hsl(199 89% 48%)` - —Å–≤–µ—Ç–ª–æ —Å–∏–Ω—å–æ (–∑–∞–ø–∞–∑–µ–Ω–æ)
- **Background:** `slate-900` / `hsl(222 47% 11%)` - —Ç—ä–º–µ–Ω —Ñ–æ–Ω
- **Foreground:** `slate-50` / `hsl(210 40% 98%)` - —Å–≤–µ—Ç—ä–ª —Ç–µ–∫—Å—Ç
- **Card:** `slate-800` / `hsl(217 33% 17%)` - –∫–∞—Ä—Ç–∏ —Å –ª–µ–∫–æ —Å–∏–Ω–∫–∞–≤ —Ç–æ–Ω
- **Muted:** `slate-800` / `hsl(217 33% 17%)` - –ø—Ä–∏–≥–ª—É—à–µ–Ω–∏ –µ–ª–µ–º–µ–Ω—Ç–∏

#### –ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ
- –ë—É—Ç–æ–Ω–∏ CTA –∏–∑–ø–æ–ª–∑–≤–∞—Ç `primary` (blue-600)
- Secondary –¥–µ–π—Å—Ç–≤–∏—è –∏–∑–ø–æ–ª–∑–≤–∞—Ç `secondary` (cyan-500)
- Hover states –∏ highlights –∏–∑–ø–æ–ª–∑–≤–∞—Ç `accent` (sky-400)
- Destructive actions –∑–∞–ø–∞–∑–≤–∞—Ç —á–µ—Ä–≤–µ–Ω–æ –∑–∞ consistency
- Gradients: `from-blue-600 to-cyan-500` –∑–∞ hero —Å–µ–∫—Ü–∏–∏ –∏ –≤–∞–∂–Ω–∏ –µ–ª–µ–º–µ–Ω—Ç–∏

**–§–∞–π–ª —Å –¥–µ—Ñ–∏–Ω–∏—Ü–∏–∏:** `app/globals.css` (—Ä–µ–¥–æ–≤–µ 104-177 –∑–∞ HSL –∏ 239-312 –∑–∞ OKLCH)

### –ö–ª—é—á–æ–≤–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- `@supabase/supabase-js` - Database client
- `@updatedev/js` - Auth & billing
- `@dnd-kit/*` - Drag & drop functionality
- `lucide-react` - Icons
- `next-themes` - Theme management
- `resend` - Email service
- `sonner` - Toast notifications
- `lodash` - Utility functions
- `@react-email/*` - Email templates

## üìÅ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ –ø–∞–ø–∫–∏—Ç–µ
```
app/
‚îú‚îÄ‚îÄ (auth)/          # Auth pages (sign-in, sign-up)
‚îú‚îÄ‚îÄ api/             # API routes
‚îú‚îÄ‚îÄ auth/            # Auth callbacks
‚îú‚îÄ‚îÄ protected/       # Protected pages requiring authentication
‚îÇ   ‚îú‚îÄ‚îÄ clients/     # Client management
‚îÇ   ‚îú‚îÄ‚îÄ programs/    # Training programs
‚îÇ   ‚îú‚îÄ‚îÄ nutrition/   # Nutrition plans
‚îÇ   ‚îú‚îÄ‚îÄ nutrition-plans/ # Nutrition plan builder
‚îÇ   ‚îú‚îÄ‚îÄ calendar/    # Calendar functionality
‚îÇ   ‚îú‚îÄ‚îÄ exercises/   # Exercise library
‚îÇ   ‚îú‚îÄ‚îÄ foods/       # Food library
‚îÇ   ‚îú‚îÄ‚îÄ recipes/     # Recipe management
‚îÇ   ‚îú‚îÄ‚îÄ workout-builder/ # Workout builder
‚îÇ   ‚îú‚îÄ‚îÄ workouts/    # Workout management
‚îÇ   ‚îú‚îÄ‚îÄ account/     # Account settings
‚îÇ   ‚îú‚îÄ‚îÄ analytics/   # Analytics dashboard
‚îÇ   ‚îú‚îÄ‚îÄ goals/       # Goal tracking
‚îÇ   ‚îî‚îÄ‚îÄ subscription/ # Subscription management
‚îú‚îÄ‚îÄ join/           # Invitation handling
‚îú‚îÄ‚îÄ pricing/        # Pricing page
‚îú‚îÄ‚îÄ about/          # About page
‚îî‚îÄ‚îÄ contact/        # Contact page
```

### –û—Å–Ω–æ–≤–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏
1. **Client Management** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∏ –∏ –ø–æ–∫–∞–Ω–∏
2. **Training Programs** - –°—ä–∑–¥–∞–≤–∞–Ω–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤—ä—á–Ω–∏ –ø—Ä–æ–≥—Ä–∞–º–∏
3. **Workout Builder** - –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å drag & drop
4. **Exercise Library** - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
5. **Nutrition Planning** - –•—Ä–∞–Ω–∏—Ç–µ–ª–Ω–∏ –ø–ª–∞–Ω–æ–≤–µ –∏ –º–∞–∫—Ä–æ—Å–∏
6. **Food Library** - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å —Ö—Ä–∞–Ω–∏ –∏ –º–∞–∫—Ä–æ–Ω—É—Ç—Ä–∏–µ–Ω—Ç–∏
7. **Recipe Management** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ä–µ—Ü–µ–ø—Ç–∏
8. **Calendar** - –ö–∞–ª–µ–Ω–¥–∞—Ä –∑–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
9. **Analytics** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑–∏
10. **Goals** - –ü—Ä–æ—Å–ª–µ–¥—è–≤–∞–Ω–µ –Ω–∞ —Ü–µ–ª–∏
11. **Billing** - Subscription management via Stripe (Free/Pro/Beast plans)
12. **Authentication** - Multi-provider auth
13. **Account Settings** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üîß Development –ø—Ä–∞–≤–∏–ª–∞

### Commands
- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run lint` - Run ESLint
- `npm start` - Start production server

### Code Style
- **TypeScript —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–∞–Ω–µ**
- **ESLint –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - Next.js + React Hooks –ø—Ä–∞–≤–∏–ª–∞
- **Naming conventions:**
  - Components: PascalCase
  - Files: kebab-case –∑–∞ pages, camelCase –∑–∞ components
  - API routes: kebab-case
- **Folder structure:** Feature-based organization

### Git Workflow
- **Main branch:** `main`
- **Commit format:** –û–ø–∏—Å–∞—Ç–µ–ª–Ω–∏ commit messages –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏
- **Testing:** –í–∏–Ω–∞–≥–∏ —Ç–µ—Å—Ç–≤–∞–π –ø—Ä–µ–¥–∏ commit

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω–∏ –∏ –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞

### User Roles
- Trainers (–æ—Å–Ω–æ–≤–Ω–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏)
- Clients (–ø–æ–∫–∞–Ω–µ–Ω–∏ –æ—Ç —Ç—Ä–µ–Ω—å–æ—Ä–∏—Ç–µ)

### –ö–ª—é—á–æ–≤–∏ –º–æ–¥–µ–ª–∏
- Users (—Ç—Ä–µ–Ω—å–æ—Ä–∏ –∏ –∫–ª–∏–µ–Ω—Ç–∏)
- Training Programs
- Nutrition Plans
- Food Items
- Client-Trainer relationships

### Authentication Flow
- Supabase Auth –∑–∞ –æ—Å–Ω–æ–≤–Ω–æ authentication
- Update.dev –∑–∞ billing –∏ extended features
- Invitation system –∑–∞ –∫–ª–∏–µ–Ω—Ç–∏

## üéØ Claude-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è
- ‚úÖ –í–∏–Ω–∞–≥–∏ run `npm run lint` —Å–ª–µ–¥ code changes
- ‚úÖ –í–∏–Ω–∞–≥–∏ run `npm run build` –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç
- ‚úÖ –ò–∑–ø–æ–ª–∑–≤–∞–π TypeScript —Ç–∏–ø–æ–≤–µ –≤–∏–Ω–∞–≥–∏
- ‚úÖ –°–ª–µ–¥–≤–∞–π shadcn/ui patterns –∑–∞ UI components

### –ü–∏—Ç–∞–π –ø—Ä–µ–¥–∏ –¥–∞ –ø—Ä–∞–≤–∏—à
- ‚ùì Database schema changes (–º–∏–≥—Ä–∞—Ü–∏–∏)
- ‚ùì New dependencies
- ‚ùì Breaking changes –≤ API
- ‚ùì Changes –≤ authentication flow
- ‚ùì Billing/subscription logic changes

### –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏—è
- **Communication:** –ö—Ä–∞—Ç–∫–∏, –¥–∏—Ä–µ–∫—Ç–Ω–∏ –æ—Ç–≥–æ–≤–æ—Ä–∏ –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏
- **Code style:** Functional components, hooks, —Å—ä–≤—Ä–µ–º–µ–Ω–Ω–∏ React patterns
- **Error handling:** Proper error boundaries –∏ user feedback
- **Performance:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–∞–π –∑–∞ performance (loading states, suspense)

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ù–µ —Å—ä–∑–¥–∞–≤–∞–π –Ω–æ–≤–∏ environment variables –±–µ–∑ –∫–æ–Ω—Å—É–ª—Ç–∞—Ü–∏—è
- –ù–µ –ø—Ä–æ–º–µ–Ω—è–π Stripe/Update.dev –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ü–∞–∑–∏ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â–∏—Ç–µ API endpoints
- –í–Ω–∏–º–∞–≤–∞–π —Å Supabase RLS policies

## üöÄ Environment Setup

### Required Environment Variables
```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=...
NEXT_PUBLIC_SUPABASE_ANON_KEY=...
SUPABASE_SERVICE_ROLE_KEY=...

# Update.dev
NEXT_PUBLIC_UPDATE_PUBLISHABLE_KEY=...

# Resend (Email)
RESEND_API_KEY=...
RESEND_FROM_EMAIL=...

# Site
NEXT_PUBLIC_SITE_URL=...
```

### Development
- Port: 3001 (configured in NEXT_PUBLIC_SITE_URL)
- Hot reload enabled
- TypeScript strict mode

---

üí° **–ó–∞–±–µ–ª–µ–∂–∫–∞:** –¢–æ–≤–∞ –µ fitness SaaS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞ —Ç—Ä–µ–Ω—å–æ—Ä–∏. –§–æ–∫—É—Å–∏—Ä–∞–π —Å–µ –Ω–∞ user experience, performance –∏ data integrity –ø—Ä–∏ –≤—Å–∏—á–∫–∏ –ø—Ä–æ–º–µ–Ω–∏.